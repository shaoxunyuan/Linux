# Linux基础及应用教程：虚拟机快照

## 一、实验目标

1. 掌握 **VMware 虚拟机快照的创建、恢复与删除操作**。  
2. 理解快照在系统备份与还原中的实际作用。

---

## 二、实验环境

1. **硬件环境**：机房 PC（已启用虚拟化功能）。  
2. **软件环境**：VMware Workstation + CentOS 系统（已预装，可直接登录，用户名与密码见桌面“关于密码.txt”）。

---

## 三、实验内容与步骤

### 任务 1：熟悉 CentOS 系统登录

1. 打开 VMware Workstation，在左侧列表中找到预设的 **CentOS 虚拟机**，点击 **“开启此虚拟机”**。  

2. 在登录界面输入用户名与密码（密码输入时不会显示，输入完成后按 **Enter**）。  

3. 登录成功后，在终端中执行以下命令验证登录状态：
   
   ```bash
   whoami
   pwd
   ```
   
   - 输出结果应分别为：
     - 当前用户：`njucm`
     - 当前工作目录：`/home/njucm`

---

### 任务 2：创建虚拟机快照（系统备份）

1. 确保 CentOS 系统处于运行状态。  
2. 在 VMware 菜单栏中选择：  
   **虚拟机 → 快照 → 拍摄快照**  
3. 在弹出的窗口中填写信息：  
   - **快照名称**：`CentOS-Initial-2025XX`  
   - **快照描述**：`初始登录状态，未做任何操作`  
4. 点击 **“拍摄”**，等待进度条完成（约 1–2 分钟）。  
5. 创建完成后，进入：  
   **虚拟机 → 快照 → 快照管理器**  
   确认快照名称、创建时间与描述均显示正常。

---

### 任务 3：修改系统后恢复快照

1. 在 CentOS 终端中执行以下命令，创建一个测试目录（模拟系统修改）：
   
   ```bash
   mkdir ~/test_snapshot
   ls ~
   ```
   
   确认 `test_snapshot` 目录已出现。  

2. 在 VMware 菜单中点击：  
   **虚拟机 → 快照 → 恢复到上一快照**  
   或打开 **快照管理器**，选中之前创建的快照 `CentOS-Initial-2025XX`，点击 **“转到”**。  

3. 弹出提示时选择 **“是”**，等待系统自动重启并恢复。  

4. 登录后执行：
   
   ```bash
   ls ~
   ```
   
   确认 `test_snapshot` 目录已消失，表示系统成功恢复至快照创建时的状态。

---

### 任务 4：删除冗余快照

1. 打开 **快照管理器**。  
2. 选中需要删除的快照（确保不是当前正在使用的快照）。  
3. 点击 **“删除”**，根据需要选择：
   - **删除**：仅删除该快照；
   - **删除所有后续快照**：删除该快照及其之后创建的所有快照。  
4. 点击 **“确定”**，等待删除完成。

---

## 四、实验报告要求

1. 记录 **快照创建过程**，并附上 **“快照管理器”截图**（需完整显示快照名称、创建时间、描述）。  
2. 展示 **快照恢复验证** 过程截图（包含 `mkdir ~/test_snapshot`、`ls ~` 的执行前后对比）。  
3. 说明 **快照的作用。**
4. 说明 **快照与完整克隆的区别。**

---

✅ **提示**：  

- 创建快照前应确保系统状态稳定；  
- 不建议长期依赖多个快照，会增加磁盘负担；  
- 删除快照不会影响当前系统运行状态。
